SmartTrafficManager Project Documentation
1. Project Overview
   SmartTrafficManager is a network traffic simulation system that models a dynamic network of routers, edges (connections), and user requests. It includes:

Backend (Java): Simulates traffic routing, congestion, proxy caching, and load balancing.

Frontend (HTML/CSS/JavaScript with Cytoscape.js): Visualizes the network graph and simulates user requests interactively.

Key Features
Dynamic Network Simulation: Nodes (routers) and edges (connections) can be added, removed, or updated.

Traffic Prioritization: Requests from students/staff are prioritized differently based on domain (e.g., .edu domains get cache hits for students).

Load Balancing: Uses Dijkstra’s algorithm to find optimal paths, considering latency, congestion, and penalties.

Proxy Simulation: Caches frequently accessed domains and handles overloads.

Visualization: Interactive graph showing nodes, edges, congestion, and latency.

2. Project Structure
   Backend (Java)
   Core Classes
   RouterNode.java

Represents a router (node) in the network.

Properties: id, type (e.g., "Lab", "Gateway"), priority.

Edge.java

Represents a connection between routers.

Properties: source, destination, latency, congestion.

RouterGraphManager.java

Manages the network topology (nodes and edges).

Methods:

addRouter(), removeNode()

addConnection(), removeEdge()

getEdges(), getAllEdges()

exportToJSON() (for frontend visualization).

LoadBalancer.java

Uses Dijkstra’s algorithm to find the shortest path, considering:

Latency + congestion + penalties (e.g., +5 penalty for staff accessing non-.edu domains).

ProxySimulator.java

Simulates a proxy cache with rules:

Cache hits for students accessing .edu domains from Labs/Classrooms.

Cache misses/overloads for other requests (maxCapacity = 2).

TrafficMonitor.java

Updates edge congestion dynamically and decays it over time.

SimulationEngine.java

Main driver for the simulation:

Initializes the network.

Simulates user requests (students/staff, domains like intranet.edu/netflix.com).

Updates congestion and exports data.json for the frontend.

Frontend (HTML/JavaScript)
Files
index.html

Displays the network graph (Cytoscape.js) and controls.

Features:

Left Panel: Simulation form, stats table, "Refresh Graph" button.

Right Panel: Interactive graph visualization.

Functions:

simulateRequest(): Simulates a request and displays stats.

refreshGraphManually(): Checks for updates to data.json.

initializeGraph(): Redraws the graph when data.json changes.

style.css

Styles for the graph, controls, and stats table.

data.json

Generated by the backend, contains nodes/edges for visualization.

3. How the Simulation Works
   Backend Workflow
   Initialization

SimulationEngine creates routers (e.g., R1, R2, Internet) and edges (e.g., R1 -> R2 with latency=10, congestion=1).

Dynamic Updates

Randomly modifies:

Edge latency/congestion (±5, ±2).

Adds/removes nodes (e.g., R8 added, R4 removed).

Adds/removes edges (e.g., R5 -> R2 added).

Request Handling

For each request (e.g., Student@R1 accessing intranet.edu):

LoadBalancer calculates the shortest path (e.g., R1 -> R2 -> Internet).

ProxySimulator checks cache (hit/miss/overload).

TrafficMonitor updates congestion on the path.

Export to Frontend

Updates data.json with new node/edge states.

Frontend Workflow
Graph Visualization

Loads data.json and renders nodes/edges using Cytoscape.js.

Styles:

Nodes: Color-coded by type (e.g., Gateway = red star).

Edges: Labeled with latency; red if congestion > 2.

User Interaction

Simulate Request:

Select source router, user type, and domain.

Displays path, latency, congestion, and proxy status in the stats table.

Highlights the path edges in blue.

Refresh Graph:

Manually checks for data.json updates.

Prompts to rerun SimulationEngine if no changes are detected.

4. Test Cases
   Backend Tests
   Student in Lab Accessing intranet.edu

Expected: Cache hit, path R1 -> R2 -> Internet.

Console Output:

[Proxy] Cache HIT for: intranet.edu (Student in Lab)
Staff Accessing netflix.com

Expected: High penalty (+5), path R5 -> R6 -> Internet, cache miss.

Console Output:

[Proxy] Cache MISS for: netflix.com
Dynamic Updates

Expected: After rerunning SimulationEngine:

Random edge updates (e.g., R1 -> R2: latency=15, congestion=3).

Nodes/edges added/removed (e.g., R8 added, R4 removed).

Frontend Tests
Manual Refresh

Action: Click "Refresh Graph" after running SimulationEngine.

Expected: Graph updates (e.g., new node R8 appears).

Simulate Request with Removed Node

Action: Select source R4 (if removed).

Expected: Alert: "Source router no longer exists in the graph."

Edge Highlighting

Action: Simulate a request (e.g., R1 -> R2 -> Internet).

Expected: Edges turn blue for 3 seconds.

5. How to Run the Project
   Backend
   Compile and run SimulationEngine.java.

Output: Generates/updates data.json.

Example console output:

[SimulationEngine] Added node: R8 (Server)  
[SimulationEngine] Updated edge R1 -> R2: Latency=15, Congestion=3  
Frontend
Serve index.html using a web server:

bash
cd src/main/resources/visualization
npx http-server
Open http://localhost:8080/index.html.

Interact with the graph and simulate requests.

6. Enhancements
   Backend API

Use Spring Boot to dynamically update data.json via endpoints.

Frontend Improvements

Add a "Clear Stats Table" button.

Show loading indicators during refreshes.

Advanced Simulation

Simulate realistic traffic patterns (e.g., peak hours).

7. Key Takeaways
   Backend: Handles routing, caching, and congestion dynamically.

Frontend: Provides real-time visualization and user interaction.

Testing: Validates cache behavior, pathfinding, and dynamic updates.